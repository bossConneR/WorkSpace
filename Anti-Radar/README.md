https://www.teambition.com/project/5fa693140b6088ad01232323/posts/post/5fd368ef436f70004524bf8e



我草了都orz
这周末投入至少10h，没有出来最终的效果。



lastUpdate:2020/12/27



目前的进度：

模型已经可以成功加载

但是作者用的coco预训练模型不知道咋地就是和自己训练出来的模型结构不一样，还差的很tm的多

今天起码花了三个小时用Netron来给模型找不同

我tm都找吐了

这是主要改动的三个地方

Screenshot-1.png



因为从结构图看来他们似乎是等价的

Screenshot-2.png



很开心的是，改了几个小时之后这一部分的编译通过了，我当时还激动了一下。。。但是编译通过并不代表底层逻辑就没问题。。。

Screenshot-3.png



所以后面一个代码块继续运行的时候就又嗝屁了

Screenshot-4.png





我现在已经不想看代码了

看到要吐了

最怕这种看不懂源码只能不断试错但是看起来又没有希望的情况了。。。。



整理一下----------

========================================
目前碰到的问题：
robust_physical_attack.ipynb代码无法调用自己训练的ROCO模型，很TM难受。因为作者似乎是用的模型survey的方式来做的，而且是基于官方训练的faster_rcnn_inception_v2模型，这样模型结构一旦不一样要改动的逻辑结构巨麻烦；
想用它提供的另外的脚本shapeshift2D.py，但是太难看懂了，非常艰难，这条路并不容易。
目前所作的尝试：
起初，发现是模型结构不同的问题，作者使用的是54.5MB的pb推理模型（tf model zoo官方提供），而相同的config file我训练出来只有49.7MB，找了一圈用了各种办法，包括使用了tensorflow1.12、Object_Detection1.12,用了faster_rcnn_inception_v2_2017 原版config file，训练出来都是49.7mb的模型（结构不同），就很难受。。。。。再加上英语太久没用，不知道要怎么谷歌这个问题，网上似乎很少类似的解决办法，所以这条路就很难走通
找了一圈还是没法生成54.5MB模型，只好自己移植代码，使其能够符合49.7MB模型的结构（心累）。用Netron盯着看了半天，花了三四个小时慢慢匹配特征，终于把原代码基于54.5模型的Tensor name更换成了49.7模型中的tensor name（但是从后续代码报错来看中间的逻辑应该还是有问题，这条路太坎坷了）
我想现在已经进入思维盲区了，一直搞下去只是徒费精力，因此先在此归档。shapeshifter的notebook看起来确实是最有可能实现生成反雷达patch的一条路（代码分模块，程序不太复杂，直观易懂），但是今天真的很搞我心态，之后这段时间忙完了再重新回头康康，说不定会有新的解决办法 。


在此贴出今天给我以最大激励的一张图：

（通过编译后边调用出错又有什么卵用）

真没想到那么复杂的网络结构竟然能被我找出tensor匹配的规律来（看久了tou'teng）：


==========END=========
